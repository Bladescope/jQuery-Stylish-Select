(function(b){var e={'location':'bottom','hideOnClick':true,'speed':500,'copy':'Please select an option','sizes':{'small':450,'medium':720,'large':900},'columns':{'small':1,'medium':3,'large':5}};var g={containerTimer:null,}var f={init:function(h){return this.each(function(){if(h){b.extend(e,h)}var c=b('
',{'class':'clearfix selectionList '+e.location}).hide()c.appendTo(b(this).parent())b(this).data('container',c)b(this).find('option').each(function(a){b(this).css('display','none')if(b(this).attr('disabled'))return b('
').appendTo(c).append(b(''+b(this).text()+'').data('source',this))});d.restack(c)c.delegate('li a','click.stylishSelect',d.optionClicked);b(this).bind('mousedown.stylishSelect',d.checkVisibility)c.bind('mouseleave.stylishSelect',d.hideWithDelay).bind('mouseenter.stylishSelect',d.resetTimer)b(window).bind('scroll.stylishSelect',f.toggleVisibility).bind('resize.stylishSelect',f.toggleVisibility)})},destroy:function(){return this.each(function(){b(window).unbind('.stylishSelect')})}};var d={restack:function(a){var c=a.find('li'),h=c.length var i=b(window).width();if(i<=e.sizes.small){if(a.data().currentSize==="small"){return};a.data().currentSize="small"}else if(i>e.sizes.small&&i'+e.copy+'
')}var j=Math.round(h/e.columns[a.data().currentSize]),l=0,m=j,k=0 for(k;k').append(c.slice(l,m)).appendTo(a)l+=j m+=j}},optionClicked:function(a){var c=b(this).closest('div').siblings('select')c.val(b(this).data('value'))if(e.hideOnClick){d.hideContainer(b(this).closest('div'))}},checkVisibility:function(a){a.preventDefault()var c=b(this).data('container');if(c.is(':visible')){d.hideContainer(c)}else{d.restack(b(this).data().container)d.showContainer(c)}},resetTimer:function(){window.clearTimeout(g.containerTimer)},hideWithDelay:function(a){g.containerTimer=window.setTimeout(function(){d.hideContainer(b(a.currentTarget))d.resetTimer()},500)},showContainer:function(a){a.fadeIn(g.speed)},hideContainer:function(a){a.fadeOut(g.speed)}}b.fn.stylishSelect=function(a){if(f[a]){return f[a].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof a==='object'||!a){return f.init.apply(this,arguments)}else{b.error('Method '+a+' does not exist on jQuery.stylishSelect')}}})(jQuery);
